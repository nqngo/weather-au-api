var a,t,i,s;i=require("bent")("json"),s=require("html-to-text"),a="https://api.weather.bom.gov.au/v1",t=class Api{constructor(a){this.t=a,this.i=`locations/${this.t}`,this.s=null}response_timestamp(){return this.s}async search(t){var s;return(null!=t?t.length:void 0)?(t=t.replace("-","+"),s=await i(`${a}/locations?search=${t}`),this.s=await s.metadata.response_timestamp,this.t=await s.data[0].geohash,this.i=await(`locations/${this.t}`),s.data):[]}async forecasts_daily(){var t;return this.t?(t=await i(`${a}/${this.i}/forecasts/daily`),this.s=await t.metadata.response_timestamp,t.data):[]}async warnings(){var t;return this.t?(t=await i(`${a}/${this.i}/warnings`),this.s=await t.metadata.response_timestamp,t.data):[]}async warning(t,r){var n,e,h;return(null!=t?t.length:void 0)?(h=await i(`${a}/warnings/${t}`),this.s=await h.metadata.response_timestamp,n={wordwrap:r,singleNewLineParagraphs:!0},(e=h.data).message=s.fromString(h.data.message,n),e):{}}},module.exports=t;